<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Shang Shi — Allergen Selector</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Playfair+Display:wght@500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <meta name="theme-color" content="#0C2E2A">
</head>
<body>
<div id="appStatus" style="position:sticky;top:0;z-index:120;display:none;padding:8px 12px;margin:0;background:#4a1e1e;color:#ffdede;border-bottom:1px solid #cc6666;"><strong>Note:</strong> Failsafe mode. See console if blank.</div>
>
  <header class="glass-header" role="banner">
    <div class="header-inner">
      <a class="brand" href="index.html" aria-label="Back to intro">
        <img src="shangshi_logo_main.png" alt="" class="brand-logo" width="36" height="36">
        <span class="brand-name">Shang Shi</span>
      </a>
      <nav aria-label="Allergen controls" class="controls">
        <div class="mode-tabs" role="tablist" aria-label="Filter mode">
          <button id="modeSafe" class="tab active" role="tab" aria-selected="true" data-mode="SAFE">SAFE (exclude)</button>
          <button id="modeContains" class="tab" role="tab" aria-selected="false" data-mode="CONTAINS">CONTAINS</button>
        </div>
        <button id="clearFilters" class="btn subtle" title="Clear all selected allergens">Clear</button>
        <div class="preset-wrap">
          <button id="presetToggle" class="icon-btn" title="Presets" aria-label="Presets" aria-expanded="false">⋯</button>
          <div class="preset-popover" id="presetPopover" hidden>
            <label for="presets" class="sr-only">Presets</label>
            <select id="presets" class="preset-select">
              <option value="">Choose a preset…</option>
              <option value="GLUTEN_FREE">Gluten-free</option>
              <option value="DAIRY_FREE">Dairy-free</option>
              <option value="NUT_FREE">Nut-free</option>
              <option value="SHELLFISH_FREE">Shellfish-free</option>
              <option value="MUSHROOM_FREE">Mushroom-free</option>
              <option value="EGG_FREE">Egg-free</option>
              <option value="SOY_FREE">Soy-free</option>
              <option value="SESAME_FREE">Sesame-free</option>
            </select>
          </div>
        </div>
        <input id="search" type="search" placeholder="Search dishes…" aria-label="Search dishes">
      </nav>
    </div>
  </header>

  <section id="selector" class="bar" aria-label="Allergen selector">
    <div id="allergenChips" class="chips"></div>
  </section>

  <main class="container" id="app" role="main">
    <div id="dishGrid" class="grid"></div>
    <template id="dishCardTmpl">
      <article class="card" data-dish>
        <div class="card-top">
          <h3 class="card-title"></h3>
          <div class="badges"></div>
        </div>
        <p class="card-desc"></p>
        <div class="meta">
          <span class="price"></span>
        </div>
      </article>
    </template>
  </main>

  <footer class="site-footer">
    <small>⚠️ Always inform your server about severe allergies. Data may contain traces.</small>
  </footer>

  <button id="toTop" class="to-top" aria-label="Back to top">↑</button>

  <script src="app.js" defer></script>
</body>
</html>
